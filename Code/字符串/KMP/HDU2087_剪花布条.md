# ğŸ”—
http://acm.hdu.edu.cn/showproblem.php?pid=2087

# ğŸ’¡
KMPæ¨¡æ¿  
ä½†æ˜¯ä¸èƒ½é‡å¤  
æ‰€ä»¥ä¸€æ—¦åˆ¤æˆä¸€æ¬¡jè¦å˜-1  

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >  
  
```cpp
#pragma region
#pragma GCC optimize(3,"Ofast","inline")
#include <unordered_map>
#include <algorithm>
#include <iostream>
#include <cstring>
#include <string>
#include <vector>
#include <cstdio>
#include <stack>
#include <queue>
#include <cmath>
#include <map>
#include <set>
#define G 10.0
#define LNF 1e18
#define eps 1e-6
#define PI acos(-1.0)
#define ll long long
#define INF 0x7FFFFFFF
#define Regal exit(0)
#define Chivas int main()
#define pb(x) push_back(x)
#define SP system("pause")
#define Max(a,b) ((a)>(b)?(a):(b))
#define Min(a,b) ((a)<(b)?(a):(b))
#define IOS ios::sync_with_stdio(false)
#define mm(a, b) memset(a, b, sizeof(a))
#define each_cass(cass) for (cin>>cass; cass; cass--)
#define test(a) cout << "---------" << a << "---------" << '\n'
 
using namespace std;
#pragma endregion

//å…¨å±€å˜é‡
#pragma region
struct node_KMP{
    string a, b;
    int nxt[1010];
    inline void GetNext(){//æ¨¡å¼ä¸²è‡ªå·±å’Œè‡ªå·±åŒ¹é…çš„è¿‡ç¨‹
        int len = b.size();
        for(int i = 0; i < len; i ++) nxt[i] = -1;//åˆå§‹åŒ–nxt
        int j = -1;//iå’Œjè¦é”™ä¸€ä½ï¼Œä¸ç„¶éƒ½ç›¸ç­‰äº†
        for(int i = 0; i < len - 1; i ++){
            while(j >= 0 && b[j + 1] != b[i + 1]) j = nxt[j];//jè¦å‘å‰æ‹‰
            if(b[i + 1] == b[j + 1]) j ++;//éƒ½åŒ¹é…jå¯ä»¥++
            nxt[i + 1] = j;//è®°å½•æ¯ä¸ªç‚¹çš„nxtå€¼ï¼Œå› ä¸ºåˆ¤å°±æŒ‰ä¸‹ä¸€ä½åˆ¤çš„ï¼Œæ‰€ä»¥æ¯æ¬¡å­˜çš„éƒ½æ˜¯ä¸‹ä¸€ä½çš„nxt
        }
    }
    inline int KMP(){//aå’ŒbåŒ¹é…çš„è¿‡ç¨‹
        int lenb = b.size();
        int lena = a.size();
        int j = -1;
        int cnt = 0;
        for(int i = -1; i < lena - 1; i ++){
            while(j >= 0 && b[j + 1] != a[i + 1]) j = nxt[j];//å‘å‰æ‹‰
            if(b[j + 1] == a[i + 1]) j ++;
            if(j == lenb - 1){//å› ä¸ºåˆ¤éƒ½æ˜¯æŒ‰ä¸‹ä¸€ä½åˆ¤çš„ï¼Œæ‰€ä»¥jçš„ä¸‹ä¸€ä½åˆ°å¤´äº†å°±æ˜¯æˆåŠŸäº†
                cnt ++;
                j = -1;//å‰é¢çš„è£æ‰äº†ï¼Œè¦é‡æ–°å¼€å§‹äº†
            }
        }
        return cnt;
    }
};
#pragma endregion

//ä¸»ä½“------------------------------------------

Chivas{
    string a, b;
    node_KMP nd;
    IOS;
    while(cin >> a, a != "#"){
        cin >> b;

        nd.a = a, nd.b = b;
        nd.GetNext();
        cout << nd.KMP() << endl;

    }
    Regal;
}
```
