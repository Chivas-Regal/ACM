# ğŸ”—
https://ac.nowcoder.com/acm/problem/20000

# ğŸ’¡
dpæ€æƒ³å¤ªå¥½ç”¨äº†ï¼Œæ²¡æƒ³åˆ°å¯ä»¥ç”¨dpæ¨é“¾æ•°  
æ‹“æ‰‘åŒ…å«å…¥è¯»å’Œå‡ºåº¦  
å¼€å§‹é€‰æ‹©å…¥é˜Ÿå…ƒç´ æ—¶è¦ç‰¹åˆ¤åªæœ‰å‡ºåº¦ä¸ä¸º0çš„æ‰èƒ½å…¥  
å¹¶æ¯ä¸ªå…¥é˜Ÿçš„é“¾æ•°dpè®¾ä¸º1  
æ¯æ¬¡æœ‰ä¸€ä¸ªæ–°å…ƒç´ è¦è¿›é˜Ÿå°±åŠ ä¸Šèµ·ç‚¹çš„é“¾æ•°dp  
æœ€åç»Ÿè®¡æ‰€æœ‰å‡ºåº¦ä¸º0çš„å…ƒç´ çš„dpå’Œ  

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >  
  
```cpp
#pragma region
#pragma GCC optimize(3,"Ofast","inline")
#include <algorithm>
#include <iostream>
#include <cstring>
#include <string>
#include <vector>
#include <cstdio>
#include <stack>
#include <queue>
#include <cmath>
#include <map>
#include <set>
#define G 10.0
#define LNF 1e18
#define eps 1e-6
#define PI acos(-1.0)
#define ll long long
#define INF 0x7FFFFFFF
#define Regal exit(0)
#define Chivas int main()
#define pb(x) push_back(x)
#define SP system("pause")
#define Max(a,b) ((a)>(b)?(a):(b))
#define Min(a,b) ((a)<(b)?(a):(b))
#define IOS ios::sync_with_stdio(false)
#define mm(a, b) memset(a, b, sizeof(a))
#define each_cass(cass) for (cin>>cass; cass; cass--)
#define test(a) cout << "---------" << a << "---------" << '\n'
using namespace std;
#pragma endregion

//å…¨å±€å˜é‡
#pragma region
const int maxn = 1e5 + 10;
//----------------å‰å‘æ˜Ÿå˜é‡
struct Edge{
    int nxt, to;
}edge[maxn << 1];
int head[maxn];
int cnt = 0;
//------------------------   
int n, m;//ç”Ÿç‰©ä¸ªæ•°ã€å…³ç³»æ•°
int in[maxn], out[maxn];//å…¥åº¦ï¼Œå‡ºåº¦
int dp[maxn];//dp[i]è¡¨ç¤ºåˆ°içš„é£Ÿç‰©é“¾æœ‰å¤šå°‘æ¡
#pragma endregion

//è¾…åŠ©å‡½æ•°
void Init(){
    for(int i = 0; i < maxn; i ++){
        head[i] = -1;
        in[i] = 0;
        out[i] = 0;
        dp[i] = 0;
    }
    cnt = 0;
}
void Add_Edge(int from, int to){
    edge[++cnt] = {head[from], to};
    head[from] = cnt;
}
void TopSort(){
    queue<int> que;
    for(int i = 1; i <= n; i ++){//åˆå§‹åŒ–é˜Ÿåˆ—å’Œé¦–ä½ç½®çš„é£Ÿç‰©é“¾æ¡æ•°
        if(in[i] == 0 && out[i] != 0){//æ²¡å‡ºåº¦çš„ä¸ç®—ï¼Œå°±è‡ªå·±ä¸€ä¸ªä¸æ˜¯ä¸€æ¡é“¾
            que.push(i);
            dp[i] = 1;
        }
    }
    while(!que.empty()){
        int cur_start = que.front();
        que.pop();
        for(int i = head[cur_start]; ~i; i = edge[i].nxt){
            int cur_end = edge[i].to;
            in[cur_end]--;
            dp[cur_end] += dp[cur_start];//å…³é”®ï¼šé“¾æ•°ä¼ é€’
            if(!in[cur_end]){
                que.push(cur_end);
            }
        }
    }
}

//ä¸»å‡½æ•°
Chivas{
    IOS;
    Init();
    cin >> n >> m;
    while(m --){
        int x, y;
        cin >> x >> y;
        Add_Edge(x, y);
        in[y] ++;
        out[x] ++;
    }
    TopSort();
    int res = 0;
    for(int i = 1; i <= n; i++){
        if(out[i] == 0){
            res += dp[i];//ç»Ÿè®¡æœ€åçš„ç‚¹çš„é£Ÿç‰©é“¾æ¡æ•°æ€»å’Œ
        }
    }
    cout << res << endl;
    Regal;
}

```
