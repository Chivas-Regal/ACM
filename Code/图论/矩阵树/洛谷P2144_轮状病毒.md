# 🔗
<a href="https://www.luogu.com.cn/problem/P2144"><img src="https://i.loli.net/2021/10/15/QxHdj9obRsm6TKa.png"></a>

# 💡
无向图统计生成树个数  
设一圈是1~n号点，中心是n+1号点，就连一圈边，然后每个点还要与n+1号点相连  
利用矩阵树定理构建行列式，然后高斯消元求一下行列式即可  
（答案过大爆longlong，Java出击

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >
```java
public class Main {
        static BigInteger [][] a = new BigInteger[110][110];
        static int n;
        public static void add ( int x, int y ) {
                a[x][y] = a[x][y].subtract(BigInteger.ONE);
                a[y][x] = a[y][x].subtract(BigInteger.ONE);
                a[x][x] = a[x][x].add(BigInteger.ONE);
                a[y][y] = a[y][y].add(BigInteger.ONE);
        }
        public static BigInteger Gauss ( int n ) {
                BigInteger res = BigInteger.ONE;
                for ( int i = 1; i <= n; i ++ ) {
                        for ( int ii = i + 1; ii <= n; ii ++ ) {
                                while ( a[ii][i].compareTo(BigInteger.ZERO) != 0 ) {
                                        BigInteger d = a[i][i].divide(a[ii][i]);
                                        for ( int j = i; j <= n; j ++ ) {
                                                a[i][j] = a[i][j].subtract(d.multiply(a[ii][j]));
                                                BigInteger tmp = a[i][j];
                                                a[i][j] = a[ii][j];
                                                a[ii][j] = tmp;
                                        }
                                        res = BigInteger.ZERO.subtract(res);
                                }
                        }
                        res = res.multiply(a[i][i]);
                        if ( res.compareTo(BigInteger.ZERO) == 0 ) return BigInteger.ZERO;
                }
                return res;
        }
        public static void main (String[] args) {
                for ( int i = 0; i < 110; i ++ ) for ( int j = 0; j < 110; j ++ ) a[i][j] = BigInteger.ZERO;
                Scanner cin = new Scanner(System.in);
                n = cin.nextInt();
                for ( int i = 1; i <= n; i ++ ) {
                        add((i % n) + 1, (i + 1) % n + 1);
                        add((i % n) + 1, n + 1);
                }
                System.out.println(Gauss(n));
        }
}
```
