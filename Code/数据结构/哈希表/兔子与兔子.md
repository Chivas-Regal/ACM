# ğŸ”—
https://ac.nowcoder.com/acm/contest/1008/B

# ğŸ’¡
å°†å­—ç¬¦ä¸²å®šä¹‰ä¸ºä¸€ç§è¿›åˆ¶  
ä¿è¯ä¸åŒçš„å­—ç¬¦ä¸²è¿›åˆ¶ä¸€å®šä¸åŒ  
  
å»ºç«‹ä¸€ä¸ªhashè¡¨æ˜ å°„iä½ç½®å‰çš„å­—ç¬¦ä¸²è¿›åˆ¶  
  
åœ¨æ±‚åŒºé—´å­—ç¬¦ä¸²æ—¶åªéœ€è¦æ±‚åŒºé—´è¿›åˆ¶å³å¯  
è¿›åˆ¶ç›¸åŒå°±å­—ç¬¦ä¸²ç›¸åŒï¼Œå¦åˆ™ä¸åŒ  

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >  
  
```cpp
#pragma region
//#pragma GCC optimize(3,"Ofast","inline")
#include <algorithm>
#include <iostream>
#include <cstring>
#include <string>
#include <vector>
#include <cstdio>
#include <stack>
#include <queue>
#include <cmath>
#include <map>
#include <set>
#define G 10.0
#define LNF 1e18
#define eps 1e-6
#define PI acos(-1.0)
#define ll long long
#define INF 0x7FFFFFFF
#define Regal exit(0)
#define Chivas int main()
#define pb(x) push_back(x)
#define SP system("pause")
#define ull unsigned long long
#define Max(a,b) ((a)>(b)?(a):(b))
#define Min(a,b) ((a)<(b)?(a):(b))
#define IOS ios::sync_with_stdio(false)
#define mm(a, b) memset(a, b, sizeof(a))
#define each_cass(cass) for (cin>>cass; cass; cass--)
#define test(a) cout << "---------" << a << "---------" << '\n'
 
using namespace std;
#pragma endregion

//å…¨å±€å˜é‡
#pragma region
const int maxn = 2e6 + 10;
const int base = 131;
char s[maxn];
int Q;
ull _hash[maxn], sys[maxn];//_hash[i]è¡¨ç¤ºiä»¥å‰çš„å­—ç¬¦ä¸²è¿›åˆ¶ï¼Œsys[i]è¡¨ç¤ºbase^i
#pragma endregion

//ä¸»ä½“-------------------------------------------------------------------
inline void Init_system(){//å°†å­—ç¬¦ä¸²æ¯ä¸€ä½åŒ–ä¸ºä¸€ä¸ªè¿›åˆ¶æ•°ï¼Œå¹¶åˆå§‹åŒ–è¿™ä¸ªè¿›åˆ¶è¡¨
    int len = strlen(s + 1);
    _hash[0] = 0, sys[0] = 1;
    for(int i = 1; i <= len; i ++){
        _hash[i] = _hash[i - 1] * base + s[i] - 'a' + 1;
        sys[i] = sys[i - 1] * base;
    }
}

inline ull Get_lr(int l, int r){//æ±‚l~rçš„åŒºé—´è¿›åˆ¶
    return _hash[r] - _hash[l - 1] * sys[r - l + 1];//ç±»ä¼¼äºåŒºé—´å’Œï¼Œè¿™é‡Œæ±‚åŒºé—´è¿›åˆ¶
}

Chivas{
    scanf("%s", s + 1);
    Init_system();
    cin >> Q;
    while(Q --){
        int l1, r1, l2, r2;
        cin >> l1 >> r1 >> l2 >> r2;
        cout << (Get_lr(l1, r1) == Get_lr(l2, r2) ? "Yes" : "No") << endl;
    }
    Regal;
}
```
