# ğŸ”—
<a href="https://www.luogu.com.cn/problem/P1050"><img src="https://user-images.githubusercontent.com/78973908/139773613-536b48d2-1521-4cd1-b536-0976380ac659.png"></a>

# ğŸ’¡
æš´åŠ›åœ°æ±‚kä½æˆä¸ºå¾ªç¯èŠ‚éå¸¸éº»çƒ¦  
é‚£ä¹ˆè€ƒè™‘ä¸¤ç‚¹ï¼š  
1.æ¯æ¬¡å¯¹äºä¸€ä½æ±‚å¾—å¾ªç¯èŠ‚å¾ˆç®€å•  
2.å¯¹äºåŒä¸€ä¸ªnï¼Œkä»å°åˆ°å¤§å¾—åˆ°çš„ç»“æœäº’ç›¸æœ‰è”ç³»  
  
é¦–å…ˆç¬¬ä¸€ä¸ªè€ƒè™‘ï¼š  
åœ¨ä¸€ä½çš„åŸºç¡€ä¸Šæ±‚ï¼Œè¿™ä¸€ä½æ¯æ¬¡ä¹˜ä¸€ä¸ªæ•°ï¼Œå¦‚æœåæ¬¡ä¹‹åä¸æˆå¾ªç¯å°±ä¸è¡Œäº†  
ç„¶åç¬¬äºŒä¸ªè€ƒè™‘ï¼š  
æ¯”å¦‚k=3æ—¶ï¼Œå¾ªç¯èŠ‚é•¿åº¦ä¸ºlen3ï¼Œk=2ï¼Œå¾ªç¯èŠ‚é•¿åº¦ä¸ºlen2  
len3å¿…å®šæ˜¯len2çš„å€æ•°ï¼Œå› ä¸ºk=3æ—¶ï¼Œä¸ºäº†ä¿è¯k=2æˆå¾ªç¯èŠ‚ï¼Œé‚£ä¹ˆlen3å¿…å®šæ˜¯åœ¨åŸºäºk=2ä¸Šè·³å¤šå°‘æ¬¡len2  
æ‰€ä»¥len3æ˜¯len2çš„å€æ•°  
è€Œè¿™ä¸ªå€æ•°å°±æ˜¯åœ¨åªé’ˆå¯¹ç¬¬3ä½æ—¶æ±‚å¾—çš„ç»“æœ  
  
é‚£ä¹ˆå¯¹äºnå°±ä»[1,k]æšä¸¾åé¢çš„é•¿åº¦  
æ¯æ¬¡æˆ‘ä»¬å¯ä»¥å°†å½“å‰æ±‚å¾—çš„è¿™ä¸ªå¾ªç¯èŠ‚é•¿åº¦ä½œä¸ºæŒ‡æ•°ç´¯æ”¾åˆ°næ¯æ¬¡è¦ä¹˜çš„æ•°ä¸Š  
è¿™æ ·å¯ä»¥å®ç°ç›´æ¥è·³è·ƒè¿‡è¿™ä¸ªåŒºé—´ï¼Œä»è€Œä¿è¯ä¹‹å‰ç®—è¿‡çš„ä½ä¿æŒå¾ªç¯èŠ‚  
æˆ‘ä»¬å°±å¯ä»¥åªä¸“å¿ƒç®¡ç†å½“å‰è®¡ç®—çš„ä½  

```
n = 8123, k = 4

8123           1
8123*8123=3129 2
3129*8123=6867 3
6867*8123=0641 4
0641*8123=6843 #
8123^4=0641

8123           1
8123*0641=6843 2
6843*0641=6363 3
6363*0641=8683 4
8683*0641=5803 5
5803*0641=9723 #
0641^5=9201
(æ³¨æ„æ­¤æ—¶æœ€åä¸€ä½å°±æ˜¯ä¸€ç›´ä¸å˜ï¼‰ 

8123           1
8123*9201=9723 2
9723*9201=1323 3
1323*9201=2923 4
2923*9201=4523 5
4523*9201=6123 #
9201^5=6001
(æ³¨æ„æ­¤æ—¶æœ€åä¸¤ä½ä¸å˜ï¼‰

8123           1
8123*6001=6123 2
6123*6001=4123 3
4123*6001=2123 4
2123*6001=0123 5
0123*6001=8123 #
(æœ€åå°±æ˜¯åä¸‰ä½ä¸å˜äº†ï¼‰

res=4*5*5*5=500
```
å½“ç„¶å¦‚æœåœ¨æŸä¸€ä½å‡ºç°-1äº†é‚£ä¹ˆæ•´ä¸ªå°±ä¸è¡Œ  
å°±è¾“å‡º-1  

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >
```cpp
public class Main {
        public static BigInteger one = BigInteger.ONE;
        public static BigInteger zero = BigInteger.ZERO;
        public static BigInteger two = BigInteger.valueOf(2);
        public static BigInteger ten = BigInteger.TEN;
        public static BigInteger ksm ( BigInteger a, BigInteger b ) {
                BigInteger res = BigInteger.ONE;
                while ( b.compareTo(zero) == 1 ) {
                        if ( b.mod(two).compareTo(one) == 0 ) {
                                res = res.multiply(a);
                        }
                        a = a.multiply(a);
                        b = b.divide(two);
                }
                return res;
        }
        public static BigInteger Solve ( BigInteger n, BigInteger k, BigInteger mul /* æ¯æ¬¡ä¹˜çš„æ•°ï¼Œå®ç°è·³æ­¥ */ ) { // é’ˆå¯¹ç¬¬kä½å¾—åˆ°çš„åˆ†è§£åçš„å¾ªç¯èŠ‚é•¿åº¦
                BigInteger mo = ksm(ten, k);
                n = n.mod(mo);
                BigInteger nn = n;
                for ( int i = 1; i <= 100; i ++ ) {
                        n = n.multiply(mul).mod(mo);
                        if ( n.compareTo(nn) == 0 ) return BigInteger.valueOf(i);
                }
                return BigInteger.valueOf(-1);
        }
        public static void main (String[] args) {
                Scanner input = new Scanner(System.in);
                BigInteger n = input.nextBigInteger ();
                BigInteger k = input.nextBigInteger ();
                BigInteger lst = one; // å®æ—¶æ›´æ–°æ¯ä¸€ä½å¾—åˆ°çš„ç»“æœ
                BigInteger res = one; // æ€»ç­”æ¡ˆ
                BigInteger cur = n;   // æ¯æ¬¡nè¦ä¹˜çš„æ•°ï¼ˆåŒºé—´è·³è·ƒ
                for ( BigInteger i = one; i.compareTo(k) <= 0; i = i.add(one) ) {
                        cur = ksm(cur, lst).mod(ksm(ten, k));
                        lst = Solve(n, i, cur);
                        if ( i.compareTo(k) == 0 ) {
                                if ( lst.compareTo(zero) < 0 ) System.out.println("-1");
                                else                           System.out.println(lst.multiply(res));
                                return;
                        }
                        if ( lst.compareTo(zero) < 0 ) {
                                System.out.println("-1");
                                return;
                        }
                        res = res.multiply(lst);
                }
                input.close();
        }
}
```
