# ğŸ”—
<a href="https://www.acwing.com/problem/content/2696/"><img src="https://img-blog.csdnimg.cn/20210617202526361.png"></a>

# ğŸ’¡
LCSæ˜¯ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨DPçš„æ€æƒ³è´ªè¿‡å»  
  
å› ä¸ºaä¸­æ¯ä¸ªæ•°åªå‡ºç°è¿‡ä¸€æ¬¡ï¼Œæ‰€ä»¥åœ¨è¿™é“é¢˜é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªLISé—®é¢˜  
  
é¦–å…ˆè®¾ç½®ä¸€ä¸ªæ•°ç»„id[]ç”¨æ¥å­˜å…¥aæ•°ç»„é‡Œé¢çš„æ¯ä¸ªå‡ºç°çš„æ•°çš„ä¸‹æ ‡  
  
ç„¶åå°†bæ•°ç»„è½¬åŒ–ä¸ºb'æ•°ç»„ï¼Œå³b'[i] = id[b[i]]ç”¨æ¥è¡¨ç¤ºï¼šbæ•°ç»„ä¸­å½“å‰æ•°åœ¨aæ•°ç»„ä¸­å¯¹åº”çš„ä¸‹æ ‡  
  
é‚£ä¹ˆè¦æƒ³bä¸­çš„æŸä¸ªåºåˆ—åœ¨aä¸­ä¹Ÿæ˜¯å…¶ä¸­çš„åºåˆ—  
  
å°±éœ€è¦æˆ‘ä»¬å¾—åˆ°çš„è¿™ä¸ªb'ä¸­çš„æŸä¸ªå­åºåˆ—ï¼Œåœ¨aä¸­å‡ºç°è¿‡å°±è¡Œäº†ï¼ŒåŒæ—¶è¦ä¿è¯åœ¨aä¸­çš„ä¸‹æ ‡æ˜¯é¡ºåºçš„  
  
æ‰€ä»¥é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºæ±‚b'æ•°ç»„çš„æœ€é•¿ä¸Šå‡å­åºåˆ—  
  
å…·ä½“LISé—®é¢˜æ±‚æ³•å¯ä»¥çœ‹ -> [è¿™é‡Œ](https://blog.csdn.net/SnopzYz/article/details/117997834?spm=1001.2014.3001.5501)  
  
æˆ‘ä»¬å‘ç°è¿™ä¸ªæ•°æ®èŒƒå›´æ˜¯$1e6$çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨è´ªå¿ƒ+äºŒåˆ†ä¼˜åŒ–ï¼Œæ—¶é—´å¤æ‚åº¦O(nlogn)  

# <img src="https://img-blog.csdnimg.cn/20210713144601841.png" >
```cpp
const int N = 1e6 + 10;

int id[N], n;
vector<int> vec;

int main(){
    read(n);
    for(int i = 1, x; i <= n; i ++)  read(x), id[x] = i;
    for(int i = 1, x; i <= n; i ++){ read(x);
        if(!id[x]) continue;//æ³¨æ„ï¼šå¦‚æœæ²¡å‡ºç°è¿‡é‚£å°±ä¸è¦åŠ è¿›å»äº†
        if(vec.empty() || vec.back() < id[x]) vec.push_back(id[x]);
        else                                  vec[lower_bound(vec.begin(), vec.end(), id[x]) - vec.begin()] = id[x];
    }write(vec.size());
    return 0;
}
```
